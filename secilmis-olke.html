<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Se√ßilmi≈ü √ñlk…ôl…ôr</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="bg-white text-black dark:bg-gray-900 dark:text-white">

  <header class="p-4 flex justify-between items-center flex-wrap gap-4">
    <h1 class="text-2xl font-bold">Se√ßilmi≈ü √ñlk…ôl…ôr</h1>
    
    <div class="flex items-center gap-3">
      <a href="index.html" class="bg-gray-300 dark:bg-gray-700 px-4 py-2 rounded text-black dark:text-white hover:bg-gray-400 dark:hover:bg-gray-600 min-lg:cursor-pointer">üè† Ana s…ôhif…ô</a>
      <button id="clearBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded min-lg:cursor-pointer">üóë T…ômizl…ô</button>
      <button id="darkModeToggle" class="px-4 py-2 rounded dark:bg-violet-600 dark:text-white text-black bg-gray-200 min-lg:cursor-pointer" aria-label="Toggle Dark Mode">
        üåô
      </button>
    </div>
  </header>

  <main class="p-4">
    <div id="selectedCards" class="flex gap-1.5 truncate flex-wrap justify-center mt-10"></div>
  </main>

  <script>
    const toggleBtn = document.getElementById('darkModeToggle');
    const body = document.body;

    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark");
      toggleBtn.textContent = "‚òÄÔ∏è";
    }

    toggleBtn.addEventListener("click", () => {
      body.classList.toggle("dark");
      const isDark = body.classList.contains("dark");
      toggleBtn.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });

    const selectedCountries = JSON.parse(localStorage.getItem("selectedCountries")) || [];
    const selectedCards = document.getElementById("selectedCards");

    if (selectedCountries.length === 0) {
      selectedCards.innerHTML = "<p class='text-center text-gray-600'>H…ôl…ô √∂lk…ô se√ßilm…ôyib.</p>";
    } else {
      selectedCountries.forEach(item => {
        const card = document.createElement("div");
        card.className = "max-w-xs p-6 rounded-md shadow-md dark:bg-gray-50 dark:text-gray-900";

        card.innerHTML = `
          <img src="${item.flag}" alt="" class="object-cover object-center w-full rounded-md h-72 dark:bg-gray-500">
          <div class="mt-6 mb-2">
            <span class="block text-xs tracking-widest uppercase font-bold dark:text-green-700">${item.region}</span>
            <h2 class="text-2xl font-bold truncate tracking-wide">${item.name}</h2>
            <h2 class="text-lg font-semibold truncate tracking-wide">${item.capital}</h2>
          </div>
          <p class="dark:text-gray-800 truncate"><b>Population:</b> ${item.population.toLocaleString()}</p>
        `;

        selectedCards.appendChild(card);
      });
    }

    const clearBtn = document.getElementById("clearBtn");
    clearBtn.addEventListener("click", () => {
      if (confirm("B√ºt√ºn se√ßilmi≈ü √∂lk…ôl…ôri silm…ôk ist…ôdiyiniz…ô …ôminsiniz?")) {
        localStorage.removeItem("selectedCountries");
        location.reload();
      }
    });
  </script>

</body>
</html>
